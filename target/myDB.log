/*C2*/SET SCHEMA PUBLIC
ALTER TABLE COURSE DROP CONSTRAINT FK_COURSE_DEPARTMENT_ID
ALTER TABLE PREREQUISITE DROP CONSTRAINT FK_PREREQUISITE_COURSE_ID
ALTER TABLE SECTION DROP CONSTRAINT FK_SECTION_COURSE_ID
ALTER TABLE SECTION DROP CONSTRAINT FK_SECTION_SEMESTER_ID
ALTER TABLE SECTION DROP CONSTRAINT FK_SECTION_TIMESLOT_ID
ALTER TABLE TIMESLOT DROP CONSTRAINT UNQ_TIMESLOT_0
ALTER TABLE TRANSCRIPT DROP CONSTRAINT FK_TRANSCRIPT_SECTION_ID
ALTER TABLE DEPARTMENT_COURSE DROP CONSTRAINT FK_DEPARTMENT_COURSE_Department_ID
ALTER TABLE DEPARTMENT_COURSE DROP CONSTRAINT FK_DEPARTMENT_COURSE_courseList_ID
ALTER TABLE COURSE_PREREQUISITE DROP CONSTRAINT FK_COURSE_PREREQUISITE_Course_ID
ALTER TABLE COURSE_PREREQUISITE DROP CONSTRAINT FK_COURSE_PREREQUISITE_prerequisiteList_ID
ALTER TABLE SECTION_Student DROP CONSTRAINT FK_SECTION_Student_studentList_ID
ALTER TABLE SECTION_Student DROP CONSTRAINT FK_SECTION_Student_Section_ID
ALTER TABLE SEMESTER_SECTION DROP CONSTRAINT FK_SEMESTER_SECTION_Semester_ID
ALTER TABLE SEMESTER_SECTION DROP CONSTRAINT FK_SEMESTER_SECTION_sectionList_ID
ALTER TABLE Student_SECTION DROP CONSTRAINT FK_Student_SECTION_Student_ID
ALTER TABLE Student_SECTION DROP CONSTRAINT FK_Student_SECTION_sectionList_ID
ALTER TABLE Student_TRANSCRIPT DROP CONSTRAINT FK_Student_TRANSCRIPT_Student_ID
ALTER TABLE Student_TRANSCRIPT DROP CONSTRAINT FK_Student_TRANSCRIPT_transcriptList_ID
DROP TABLE DEPARTMENT
DROP TABLE COURSE
DROP TABLE PREREQUISITE
DROP TABLE SECTION
DROP TABLE SEMESTER
DROP TABLE Student
DROP TABLE TIMESLOT
DROP TABLE TRANSCRIPT
DROP TABLE DEPARTMENT_COURSE
DROP TABLE COURSE_PREREQUISITE
DROP TABLE SECTION_Student
DROP TABLE SEMESTER_SECTION
DROP TABLE Student_SECTION
DROP TABLE Student_TRANSCRIPT
CREATE TABLE DEPARTMENT (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, ABBREVIATION VARCHAR(8), NAME VARCHAR(128), PRIMARY KEY (ID))
CREATE TABLE COURSE (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NUMBER VARCHAR(8), TITLE VARCHAR(64), UNITS SMALLINT, DEPARTMENT_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE PREREQUISITE (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINIMUMGRADE CHAR, COURSE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE SECTION (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MAXCAPACITY INTEGER, SECTIONNUMBER INTEGER, COURSE_ID BIGINT, SEMESTER_ID BIGINT, TIMESLOT_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE SEMESTER (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, STARTDATE DATE, TITLE VARCHAR(16), PRIMARY KEY (ID))
CREATE TABLE Student (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NAME VARCHAR(128), STUDENTID INTEGER, PRIMARY KEY (ID))
CREATE TABLE TIMESLOT (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DAYSOFWEEK SMALLINT, ENDTIME TIME, STARTTIME TIME, PRIMARY KEY (ID))
CREATE TABLE TRANSCRIPT (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, GRADEEARNED VARCHAR(2), SECTION_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE DEPARTMENT_COURSE (Department_ID BIGINT NOT NULL, courseList_ID BIGINT NOT NULL, PRIMARY KEY (Department_ID, courseList_ID))
CREATE TABLE COURSE_PREREQUISITE (Course_ID BIGINT NOT NULL, prerequisiteList_ID BIGINT NOT NULL, PRIMARY KEY (Course_ID, prerequisiteList_ID))
CREATE TABLE SECTION_Student (Section_ID BIGINT NOT NULL, studentList_ID BIGINT NOT NULL, PRIMARY KEY (Section_ID, studentList_ID))
CREATE TABLE SEMESTER_SECTION (Semester_ID BIGINT NOT NULL, sectionList_ID BIGINT NOT NULL, PRIMARY KEY (Semester_ID, sectionList_ID))
CREATE TABLE Student_SECTION (Student_ID BIGINT NOT NULL, sectionList_ID BIGINT NOT NULL, PRIMARY KEY (Student_ID, sectionList_ID))
CREATE TABLE Student_TRANSCRIPT (Student_ID BIGINT NOT NULL, transcriptList_ID BIGINT NOT NULL, PRIMARY KEY (Student_ID, transcriptList_ID))
ALTER TABLE COURSE ADD CONSTRAINT UNQ_COURSE_1 UNIQUE (NUMBER)
ALTER TABLE Student ADD CONSTRAINT UNQ_Student_2 UNIQUE (STUDENTID)
ALTER TABLE TIMESLOT ADD CONSTRAINT UNQ_TIMESLOT_0 UNIQUE (daysOfWeek, startTime, endtime)
ALTER TABLE COURSE ADD CONSTRAINT FK_COURSE_DEPARTMENT_ID FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT (ID)
ALTER TABLE PREREQUISITE ADD CONSTRAINT FK_PREREQUISITE_COURSE_ID FOREIGN KEY (COURSE_ID) REFERENCES COURSE (ID)
ALTER TABLE SECTION ADD CONSTRAINT FK_SECTION_COURSE_ID FOREIGN KEY (COURSE_ID) REFERENCES COURSE (ID)
ALTER TABLE SECTION ADD CONSTRAINT FK_SECTION_SEMESTER_ID FOREIGN KEY (SEMESTER_ID) REFERENCES SEMESTER (ID)
ALTER TABLE SECTION ADD CONSTRAINT FK_SECTION_TIMESLOT_ID FOREIGN KEY (TIMESLOT_ID) REFERENCES TIMESLOT (ID)
ALTER TABLE TRANSCRIPT ADD CONSTRAINT FK_TRANSCRIPT_SECTION_ID FOREIGN KEY (SECTION_ID) REFERENCES SECTION (ID)
ALTER TABLE DEPARTMENT_COURSE ADD CONSTRAINT FK_DEPARTMENT_COURSE_Department_ID FOREIGN KEY (Department_ID) REFERENCES DEPARTMENT (ID)
ALTER TABLE DEPARTMENT_COURSE ADD CONSTRAINT FK_DEPARTMENT_COURSE_courseList_ID FOREIGN KEY (courseList_ID) REFERENCES COURSE (ID)
ALTER TABLE COURSE_PREREQUISITE ADD CONSTRAINT FK_COURSE_PREREQUISITE_Course_ID FOREIGN KEY (Course_ID) REFERENCES COURSE (ID)
ALTER TABLE COURSE_PREREQUISITE ADD CONSTRAINT FK_COURSE_PREREQUISITE_prerequisiteList_ID FOREIGN KEY (prerequisiteList_ID) REFERENCES PREREQUISITE (ID)
ALTER TABLE SECTION_Student ADD CONSTRAINT FK_SECTION_Student_studentList_ID FOREIGN KEY (studentList_ID) REFERENCES Student (ID)
ALTER TABLE SECTION_Student ADD CONSTRAINT FK_SECTION_Student_Section_ID FOREIGN KEY (Section_ID) REFERENCES SECTION (ID)
ALTER TABLE SEMESTER_SECTION ADD CONSTRAINT FK_SEMESTER_SECTION_Semester_ID FOREIGN KEY (Semester_ID) REFERENCES SEMESTER (ID)
ALTER TABLE SEMESTER_SECTION ADD CONSTRAINT FK_SEMESTER_SECTION_sectionList_ID FOREIGN KEY (sectionList_ID) REFERENCES SECTION (ID)
ALTER TABLE Student_SECTION ADD CONSTRAINT FK_Student_SECTION_Student_ID FOREIGN KEY (Student_ID) REFERENCES Student (ID)
ALTER TABLE Student_SECTION ADD CONSTRAINT FK_Student_SECTION_sectionList_ID FOREIGN KEY (sectionList_ID) REFERENCES SECTION (ID)
ALTER TABLE Student_TRANSCRIPT ADD CONSTRAINT FK_Student_TRANSCRIPT_Student_ID FOREIGN KEY (Student_ID) REFERENCES Student (ID)
ALTER TABLE Student_TRANSCRIPT ADD CONSTRAINT FK_Student_TRANSCRIPT_transcriptList_ID FOREIGN KEY (transcriptList_ID) REFERENCES TRANSCRIPT (ID)
INSERT INTO DEPARTMENT VALUES(1,'CECS','Computer Engineering and Computer Science')
INSERT INTO DEPARTMENT VALUES(2,'ITAL','Italian Studies')
INSERT INTO COURSE VALUES(1,'174','Introduction to Programming and Problem Solving.',3,1)
INSERT INTO COURSE VALUES(2,'282','Advanced C++.',3,1)
INSERT INTO COURSE VALUES(3,'274','Data Structures.',3,1)
INSERT INTO COURSE VALUES(4,'277','Object Oriented Application Programming.',3,1)
INSERT INTO COURSE VALUES(5,'101B','Fundamentals of Italian.',4,2)
INSERT INTO COURSE VALUES(6,'101A','Fundamentals of Italian.',4,2)
INSERT INTO PREREQUISITE VALUES(1,'C',1)
INSERT INTO PREREQUISITE VALUES(2,'C',3)
INSERT INTO PREREQUISITE VALUES(3,'D',6)
INSERT INTO PREREQUISITE VALUES(4,'C',1)
INSERT INTO SEMESTER VALUES(1,'2021-01-19','Spring 2021')
INSERT INTO SEMESTER VALUES(2,'2021-08-17','Fall 2021')
INSERT INTO SEMESTER VALUES(3,'2022-01-20','Spring 2022')
INSERT INTO TIMESLOT VALUES(1,2,'10:45:00','8:00:00')
INSERT INTO TIMESLOT VALUES(2,40,'13:45:00','12:30:00')
INSERT INTO TIMESLOT VALUES(3,42,NULL,NULL)
INSERT INTO TIMESLOT VALUES(4,20,'12:50:00','12:00:00')
INSERT INTO SECTION VALUES(1,35,7,2,3,2)
INSERT INTO SECTION VALUES(2,35,3,4,2,1)
INSERT INTO SECTION VALUES(3,140,1,3,2,4)
INSERT INTO SECTION VALUES(4,35,1,4,3,2)
INSERT INTO SECTION VALUES(5,25,1,6,3,3)
INSERT INTO SECTION VALUES(6,105,1,1,1,2)
INSERT INTO SECTION VALUES(7,35,5,2,3,4)
INSERT INTO STUDENT VALUES(1,'Amos Burton',555555555)
INSERT INTO STUDENT VALUES(2,'James Holden',987654321)
INSERT INTO STUDENT VALUES(3,'Naomi Nagata',123456789)
INSERT INTO TRANSCRIPT VALUES(1,'C',2)
INSERT INTO TRANSCRIPT VALUES(2,'C',3)
INSERT INTO TRANSCRIPT VALUES(3,'D',2)
INSERT INTO TRANSCRIPT VALUES(4,'C',6)
INSERT INTO TRANSCRIPT VALUES(5,'C',6)
INSERT INTO TRANSCRIPT VALUES(6,'A',2)
INSERT INTO TRANSCRIPT VALUES(7,'A',6)
INSERT INTO TRANSCRIPT VALUES(8,'A',3)
INSERT INTO TRANSCRIPT VALUES(9,'B',3)
INSERT INTO COURSE_PREREQUISITE VALUES(2,2)
INSERT INTO COURSE_PREREQUISITE VALUES(3,4)
INSERT INTO COURSE_PREREQUISITE VALUES(4,1)
INSERT INTO COURSE_PREREQUISITE VALUES(5,3)
INSERT INTO STUDENT_TRANSCRIPT VALUES(1,5)
INSERT INTO STUDENT_TRANSCRIPT VALUES(1,9)
INSERT INTO STUDENT_TRANSCRIPT VALUES(1,3)
INSERT INTO STUDENT_TRANSCRIPT VALUES(2,4)
INSERT INTO STUDENT_TRANSCRIPT VALUES(2,2)
INSERT INTO STUDENT_TRANSCRIPT VALUES(2,1)
INSERT INTO STUDENT_TRANSCRIPT VALUES(3,7)
INSERT INTO STUDENT_TRANSCRIPT VALUES(3,8)
INSERT INTO STUDENT_TRANSCRIPT VALUES(3,6)
COMMIT
